{"version":3,"sources":["assets/sounds/close-chest.mp3","assets/sounds/open-chest.mp3","components/webgl/Chest.js","components/webgl/Lights.js","components/webgl/Floor.js","components/webgl/useCameraMove.js","components/webgl/Loader.js","components/webgl/ItemInfo.js","assets/images/Iron_Helmet.png","assets/images/steel-sword.png","assets/sounds/lootSound.mp3","components/webgl/ChestModal.js","context/Provider.js","components/webgl/index.js","App.js","index.js"],"names":["closeSound","Audio","close","openSound","open","Chest","context","gltf","useGLTF","mixer","useRef","THREE","scene","action","isAnimating","handleChest","useCallback","current","state","isOpen","play","paused","timeRatio","dispatch","type","payload","setTimeout","_clip","duration","useEffect","overlay","document","querySelector","handleEscaping","e","keyCode","addEventListener","removeEventListener","clipAction","animations","useFrame","delta","update","scale","position","rotation","onClick","bind","this","onPointerOver","body","style","cursor","onPointerOut","object","dispose","Lights","intensity","castShadow","shadow-mapSize-width","shadow-mapSize-height","shadow-camera-far","shadow-camera-left","shadow-camera-right","shadow-camera-top","shadow-camera-bottom","Floor","UseCameraMove","camera","useThree","cameraEndValues","x","y","z","gsap","to","ease","onComplete","window","handleMovingCameraViaMouse","positionX","clientX","innerWidth","positionY","clientY","innerHeight","Loader","setIsLoaded","progress","useProgress","content","toFixed","opacity","className","ItemInfo","src","name","weight","value","description","armor","damage","alt","loot","lootSound","ChestModal","useState","isMounted","setIsMounted","currentItem","setCurrentItem","setWeight","id","ironHelmet","steelSword","items","setItems","handleItemTake","lastItemIndex","newState","filter","item","index","prev","find","length","fromTo","autoAlpha","map","color","onMouseEnter","ChestContext","createContext","reducer","Provider","children","useReducer","Scene","isLoaded","useContext","height","left","top","bottom","right","fov","onCreated","lookAt","fallback","App","ReactDOM","render","getElementById"],"mappings":"gNAAe,MAA0B,wCCA1B,MAA0B,uCCQnCA,EAAa,IAAIC,MAAMC,GACvBC,EAAY,IAAIF,MAAMG,GA8EbC,MA5Ef,YAA6B,IAAZC,EAAW,EAAXA,QAETC,EAAOC,YAAQ,kCAAkC,GACjDC,EAAQC,iBAAO,IAAIC,iBAAqBJ,EAAKK,QAC7CC,EAASH,iBAAO,MAChBI,EAAcJ,kBAAO,GAErBK,EAAcC,uBAAY,SAACZ,GAC/B,IAAIU,EAAYG,WACXb,IAAQE,EAAQY,MAAMC,UACtBf,GAASE,EAAQY,MAAMC,QAA5B,CACAL,EAAYG,SAAU,EAClBb,EACFD,EAAUiB,OAEVpB,EAAWoB,OAEbP,EAAOI,QAAQI,QAAS,EACxBR,EAAOI,QAAQG,OACf,IAAIE,EAAY,GACXlB,IACHkB,EAAY,IAEdhB,EAAQiB,SAAS,CAAEC,KAAM,eAAgBC,QAASrB,IAClDsB,YAAW,WACTb,EAAOI,QAAQI,QAAS,EACxBP,EAAYG,SAAU,IACpBJ,EAAOI,QAAQU,MAAMC,SAAWN,EAAa,QAChD,CAAChB,IAmCJ,OAjCAuB,qBAAU,WACR,IAAMC,EAAUC,SAASC,cAAc,YACjCC,EAAiB,SAACC,GAClBpB,EAAYG,UACZX,EAAQY,MAAMC,QAAwB,KAAde,EAAEC,SAEnB7B,EAAQY,MAAMC,QAAUW,IADjCf,GAAY,IAUhB,OALAgB,SAASK,iBAAiB,UAAWH,GACjCH,GACFA,EAAQM,iBAAiB,QAASH,GAG7B,WACLF,SAASM,oBAAoB,UAAWJ,GACpCH,GACFA,EAAQO,oBAAoB,QAASJ,MAGxC,CAAC3B,EAAQY,MAAOH,IAEnBc,qBAAU,WACRhB,EAAOI,QAAUR,EAAMQ,QAAQqB,WAAW/B,EAAKgC,WAAW,MACzD,CAAChC,IAIJiC,aAAS,SAACtB,EAAOuB,GACfhC,EAAMQ,QAAQyB,OAAOD,MAGhB,mCACL,sBAAME,MAAO,CAAC,IAAM,IAAM,KAAOC,SAAU,CAAC,GAAI,GAAI,KAAMC,SAAU,CAAC,GAAI,IAAK,IAAKC,QAAS/B,EAAYgC,KAAKC,MAAM,GAAOC,cAAe,WACvIlB,SAASmB,KAAKC,MAAMC,OAAS,WAE7BC,aAAc,WACZtB,SAASmB,KAAKC,MAAMC,OAAS,QAJjC,SAOE,2BAAWE,OAAQ/C,EAAKK,MAAO2C,QAAS,YC3D/BC,MArBf,WACE,OACE,qCACE,8BAAcC,UAAW,KACzB,kCACEC,YAAU,EACVd,SAAU,EAAE,GAAI,IAAK,GACrBa,UAAW,GACXE,uBAAsB,KACtBC,wBAAuB,KACvBC,oBAAmB,GACnBC,sBAAqB,GACrBC,sBAAqB,GACrBC,oBAAmB,GACnBC,wBAAuB,KAEzB,4BAAYrB,SAAU,CAAC,EAAG,GAAI,GAAIa,UAAW,QCPpCS,EARD,WACZ,IAAM3D,EAAOC,YAAQ,kCAErB,OAAO,+BACL,2BAAW8C,OAAQ/C,EAAKK,MAAO2C,QAAS,U,cC8B7BY,MAjCf,YAAmC,IAAVjD,EAAS,EAATA,MACfkD,EAAWC,cAAXD,OA6BR,OA3BAvC,qBAAU,WACR,IAAIX,EAAMC,OAAV,CAEA,IAAMmD,EAAkB,CACtBC,EAAG,kBACHC,GAAI,kBACJC,GAAI,mBAiBN,OANAC,IAAKC,GAAGP,EAAOxB,SAAU,IAAzB,2BACK0B,GADL,IACsBM,KAAM,aAAcC,WAAY,WAClDC,OAAO1C,iBAAiB,YAAa2C,OAIlC,WACLD,OAAOzC,oBAAoB,YAAa0C,IAhB1C,SAASA,EAA2B7C,GAClC,IAAM8C,EAAkD,MAArC9C,EAAE+C,QAAUH,OAAOI,WAAa,GAC7CC,EAAmD,MAAtCjD,EAAEkD,QAAUN,OAAOO,YAAc,GAEpDX,IAAKC,GAAGP,EAAOxB,SAAU,IAAK,CAC5B6B,EAAGH,EAAgBG,EAAIO,EACvBR,EAAGF,EAAgBE,EAAIW,OAY1B,CAACf,EAAQlD,EAAMC,SACX,M,QCbMmE,MAjBf,YAAkC,IAAD,OAAfC,EAAe,EAAfA,YACRC,EAAaC,cAAbD,SACJE,EAAUF,EAASG,QAAQ,GAQ/B,OANiB,MAAbH,IACFE,EAAU,qBAAK5C,QAAS,WACtB4B,IAAKC,GAAG,UAAW,GAAI,CAAEiB,QAAS,EAAGf,WAAYU,EAAYxC,KAAK,GAAM,MADhE,oBAMV,qBAAK8C,UAAU,SAAf,SACE,qBAAK1C,MAAoB,MAAbqC,EAAmB,CAAEpC,OAAQ,WAAc,GAAIyC,UAAU,WAArE,SAAiFH,OCKxEI,MAnBf,YAA6E,IAAzDC,EAAwD,EAAxDA,IAAKC,EAAmD,EAAnDA,KAAMC,EAA6C,EAA7CA,OAAQC,EAAqC,EAArCA,MAAOC,EAA8B,EAA9BA,YAAaC,EAAiB,EAAjBA,MAAOC,EAAU,EAAVA,OAChE,OACE,qBAAKR,UAAU,YAAf,SACE,sBAAKA,UAAU,UAAf,UACE,qBAAKE,IAAKA,EAAKO,IAAI,KACnB,sBAAKT,UAAU,QAAf,UACE,qBAAKA,UAAU,eACf,qBAAKA,UAAU,OAAf,SAAuBG,IACtBI,GAAS,sBAAKP,UAAU,QAAf,UAAuB,wCAAvB,IAAwC,+BAAOO,OACxDC,GAAU,sBAAKR,UAAU,SAAf,UAAwB,yCAAxB,IAA0C,+BAAOQ,OAC5D,sBAAKR,UAAU,SAAf,UAAwB,yCAAxB,IAA0C,+BAAOI,OACjD,sBAAKJ,UAAU,QAAf,UAAuB,wCAAvB,IAAwC,+BAAOK,OAC/C,qBAAKL,UAAU,cAAf,SAA8BM,aCdzB,MAA0B,wCCA1B,MAA0B,wCCA1B,MAA0B,sCCQnCI,EAAO,IAAItG,MAAMuG,GAgIRC,MA9Hf,YAAiC,IAAD,OAAVtF,EAAU,EAAVA,OAAU,EAEIuF,oBAAS,GAFb,mBAEvBC,EAFuB,KAEZC,EAFY,OAGQF,mBAAS,GAHjB,mBAGvBG,EAHuB,KAGVC,EAHU,OAIFJ,mBAAS,KAJP,mBAIvBT,EAJuB,KAIfc,EAJe,OAKJL,mBAAS,CACjC,CACEM,GAAI,EACJhB,KAAM,cACND,IAAKkB,EACLhB,OAAQ,EACRC,MAAO,GACPE,MAAO,GACPD,YAAa,4KAEf,CACEa,GAAI,EACJhB,KAAM,cACND,IAAKmB,EACLjB,OAAQ,EACRC,MAAO,IACPG,OAAQ,GACRF,YAAa,kJAtBa,mBAKvBgB,EALuB,KAKhBC,EALgB,KA0BxBC,EAAiB,SAACL,GACtBT,EAAKnF,OACL,IAAIkG,EAAgB,EAEdC,EAAWJ,EAAMK,QAAO,SAACC,EAAMC,GAInC,OAHID,EAAKT,KAAOA,IACdM,EAAgBI,GAEXD,EAAKT,KAAOA,KAErBD,GAAU,SAAAY,GAAI,OAAIA,EAAOR,EAAMS,MAAK,SAAAH,GAAI,OAAIA,EAAKT,KAAOA,KAAIf,UAC5DmB,EAASG,GAEe,IAApBA,EAASM,OACXf,EAAe,MAGfA,EADOQ,EAAgB,EACRH,EAAMG,EAAgB,GAAGN,GAEzBG,EAAMG,EAAgB,GAAGN,KA0B5C,OAtBAnF,qBAAU,WACJV,IAAWwF,GACbC,GAAa,GACblF,YAAW,WACTgD,IAAKoD,OAAO,eAAgB,EAAG,CAAEC,UAAW,GAAK,CAAEA,UAAW,IAC9DrD,IAAKoD,OAAO,WAAY,GAAI,CAAEvD,EAAG,QAAU,CAAEA,EAAG,IAChDG,IAAKoD,OAAO,UAAW,GAAI,CAAEtD,EAAG,OAAS,CAAEA,EAAG,MAC7C,KAEKrD,GAAUwF,IAClBjC,IAAKoD,OAAO,eAAgB,EAAG,CAC7BC,UAAW,EAAGlD,WAAY,cAEzB,CAAEkD,UAAW,IAChBrD,IAAKoD,OAAO,WAAY,GAAI,CAAEvD,EAAG,GAAK,CAAEA,EAAG,SAC3CG,IAAKoD,OAAO,UAAW,GAAI,CAAEtD,EAAG,GAAK,CAAEA,EAAG,QAC1C9C,YAAW,WACTkF,GAAa,KACZ,QAEJ,CAACzF,EAAQwF,IAELA,GACL,sBAAKd,UAAU,cAAf,UACE,qBAAKA,UAAU,YACf,sBAAKA,UAAU,UAAf,UACE,sBAAKA,UAAU,OAAf,UACE,qBAAKA,UAAU,eACf,uCACA,2CAEF,sBAAKA,UAAU,QAAf,UACE,qBAAKA,UAAU,eACf,qBAAKA,UAAU,QAAf,SACGsB,EAAMa,KAAI,SAAAP,GAAI,OAAI,qBAAmBtE,MAAOsE,EAAKT,KAAOH,EAAc,CAAEoB,MAAO,SAAY,GAAInF,QAASuE,EAAetE,KAAK,EAAM0E,EAAKT,IAAKkB,aAAc,WAAQpB,EAAeW,EAAKT,KAApK,SAA4KS,EAAKzB,MAAvKyB,EAAKT,eAIvB,OAAhBH,EAAuB,cAAC,EAAD,eAAcM,EAAMS,MAAK,SAAAH,GAAI,OAAIA,EAAKT,KAAOH,OAAmB,KACxF,sBAAKhB,UAAU,SAAf,UACE,sBAAKA,UAAU,OAAf,UACE,qBAAKA,UAAU,OAAf,iBACA,qBAAKA,UAAU,OAAf,sBAEF,sBAAKA,UAAU,OAAf,UACE,qBAAKA,UAAU,OAAf,eACA,qBAAKA,UAAU,OAAf,qBAEF,sBAAKA,UAAU,YAAf,UACE,gCACE,+CAGA,gCACGI,EADH,aAIF,gCACE,uCAGA,0CAIF,sBAAKJ,UAAU,SAAf,UACE,qBAAKA,UAAU,cACf,qBAAKA,UAAU,0BACf,qBAAKA,UAAU,2BACf,qBAAKA,UAAU,4BC9HdsC,EAAeC,wBAAc,MAEpCC,EAAU,SAACnH,EAAOL,GACtB,OAAQA,EAAOW,MACb,IAAK,eACH,OAAO,2BAAKN,GAAZ,IAAmBC,OAAQN,EAAOY,UACpC,QACE,OAAO,eAAKP,KAYHoH,EARE,SAAC,GAAkB,IAAhBC,EAAe,EAAfA,SAAe,EACPC,qBAAWH,EAAS,CAAElH,QAAQ,IADvB,mBAC1BD,EAD0B,KACnBK,EADmB,KAGjC,OAAO,cAAC4G,EAAaG,SAAd,CAAuBpC,MAAO,CAAEhF,QAAOK,YAAvC,SACJgH,KCqBUE,MA3Bf,WAAkB,IAAD,EAEiB/B,oBAAS,GAF1B,mBAERgC,EAFQ,KAEEnD,EAFF,KAGTjF,EAAUqI,qBAAWR,GAE3B,OACE,qCACE,cAAC,EAAD,CAAYhH,OAAQb,EAAQY,MAAMC,UAChCuH,GAAY,cAAC,EAAD,CAAQnD,YAAaA,IACnC,eAAC,IAAD,CAAQpC,MAAO,CAAEyF,OAAQ,QAAShG,SAAU,QAASiG,KAAM,EAAGC,IAAK,EAAGC,OAAQ,EAAGC,MAAO,GACtF5E,OAAQ,CAAE6E,IAAK,GAAIrG,SAAU,CAAC,mBAAoB,oBAAqB,oBAEvEsG,UAAW,YAAgB,EAAb9E,OACL+E,OAAO,GAAI,GAAI,MAJ1B,UAOE,cAAC,EAAD,IACCT,GAAY,cAAC,EAAD,CAAexH,MAAOZ,EAAQY,QAC3C,eAAC,WAAD,CAAUkI,SAAU,KAApB,UACE,cAAC,EAAD,CAAO9I,QAASA,IAChB,cAAC,EAAD,cClBK+I,MATf,WAEE,OACE,cAAC,EAAD,UACE,cAAC,EAAD,O,MCFNC,IAASC,OACP,cAAC,EAAD,IAEAxH,SAASyH,eAAe,W","file":"static/js/main.9c1feb9c.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/close-chest.87addd51.mp3\";","export default __webpack_public_path__ + \"static/media/open-chest.f147bf15.mp3\";","import React, { useEffect, useRef, useCallback } from 'react'\r\nimport { useGLTF } from \"drei\";\r\nimport * as THREE from 'three';\r\nimport { useFrame } from 'react-three-fiber';\r\n\r\nimport close from '../../assets/sounds/close-chest.mp3';\r\nimport open from '../../assets/sounds/open-chest.mp3';\r\n\r\nconst closeSound = new Audio(close);\r\nconst openSound = new Audio(open);\r\n\r\nfunction Chest({ context }) {\r\n\r\n  const gltf = useGLTF('/skyrim-chest/chest/scene.gltf', true);\r\n  const mixer = useRef(new THREE.AnimationMixer(gltf.scene));\r\n  const action = useRef(null);\r\n  const isAnimating = useRef(false);\r\n\r\n  const handleChest = useCallback((open) => {\r\n    if (isAnimating.current) return;\r\n    if ((open && context.state.isOpen)) return;\r\n    if (!open && !context.state.isOpen) return;\r\n    isAnimating.current = true;\r\n    if (open) {\r\n      openSound.play();\r\n    } else {\r\n      closeSound.play();\r\n    }\r\n    action.current.paused = false;\r\n    action.current.play();\r\n    let timeRatio = 0.7;\r\n    if (!open) {\r\n      timeRatio = 0.3;\r\n    }\r\n    context.dispatch({ type: 'HANDLE_CHEST', payload: open });\r\n    setTimeout(() => {\r\n      action.current.paused = true\r\n      isAnimating.current = false;\r\n    }, (action.current._clip.duration * timeRatio) * 1000)\r\n  }, [context])\r\n\r\n  useEffect(() => {\r\n    const overlay = document.querySelector('.overlay');\r\n    const handleEscaping = (e) => {\r\n      if (isAnimating.current) return;\r\n      if (context.state.isOpen && e.keyCode === 27) {\r\n        handleChest(false);\r\n      } else if (context.state.isOpen && overlay) {\r\n        handleChest(false)\r\n      }\r\n    }\r\n    document.addEventListener('keydown', handleEscaping)\r\n    if (overlay) {\r\n      overlay.addEventListener('click', handleEscaping);\r\n    }\r\n\r\n    return () => {\r\n      document.removeEventListener('keydown', handleEscaping)\r\n      if (overlay) {\r\n        overlay.removeEventListener('click', handleEscaping)\r\n      }\r\n    }\r\n  }, [context.state, handleChest])\r\n\r\n  useEffect(() => {\r\n    action.current = mixer.current.clipAction(gltf.animations[0]);\r\n  }, [gltf])\r\n\r\n\r\n\r\n  useFrame((state, delta) => {\r\n    mixer.current.update(delta)\r\n  })\r\n\r\n  return <>\r\n    <mesh scale={[0.01, 0.01, 0.01]} position={[2, -3, -9.8]} rotation={[.1, 1.1, .1]} onClick={handleChest.bind(this, true)} onPointerOver={() => {\r\n      document.body.style.cursor = 'pointer';\r\n    }}\r\n      onPointerOut={() => {\r\n        document.body.style.cursor = 'auto';\r\n      }}\r\n    >\r\n      <primitive object={gltf.scene} dispose={null} />\r\n    </mesh>\r\n  </>\r\n}\r\n\r\nexport default Chest","import React from 'react'\r\n\r\nfunction Lights() {\r\n  return (\r\n    <>\r\n      <ambientLight intensity={0.4} />\r\n      <directionalLight\r\n        castShadow\r\n        position={[-8, -16, -8]}\r\n        intensity={.4}\r\n        shadow-mapSize-width={1024}\r\n        shadow-mapSize-height={1024}\r\n        shadow-camera-far={50}\r\n        shadow-camera-left={-10}\r\n        shadow-camera-right={10}\r\n        shadow-camera-top={10}\r\n        shadow-camera-bottom={-10}\r\n      />\r\n      <pointLight position={[0, 20, 0]} intensity={2} />\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Lights","import React from \"react\";\r\nimport { useGLTF } from 'drei';\r\n\r\nconst Floor = () => {\r\n  const gltf = useGLTF('/skyrim-chest/scene/scene.gltf');\r\n\r\n  return <mesh>\r\n    <primitive object={gltf.scene} dispose={null} />\r\n  </mesh>\r\n};\r\n\r\nexport default Floor;","import { useEffect } from 'react'\r\nimport { useThree } from 'react-three-fiber';\r\nimport gsap from 'gsap';\r\n\r\nfunction UseCameraMove({ state }) {\r\n  const { camera } = useThree()\r\n\r\n  useEffect(() => {\r\n    if (state.isOpen) return;\r\n\r\n    const cameraEndValues = {\r\n      x: 4.846472276597361,\r\n      y: -2.210294971791372,\r\n      z: -7.816071657508532\r\n    }\r\n    function handleMovingCameraViaMouse(e) {\r\n      const positionX = (e.clientX - window.innerWidth / 2) * 0.001;\r\n      const positionY = (e.clientY - window.innerHeight / 2) * 0.001;\r\n\r\n      gsap.to(camera.position, 2.5, {\r\n        z: cameraEndValues.z + positionX,\r\n        y: cameraEndValues.y + positionY\r\n      })\r\n    }\r\n    gsap.to(camera.position, 2.5, {\r\n      ...cameraEndValues, ease: 'power3.out', onComplete: () => {\r\n        window.addEventListener('mousemove', handleMovingCameraViaMouse)\r\n      }\r\n    })\r\n\r\n    return () => {\r\n      window.removeEventListener('mousemove', handleMovingCameraViaMouse)\r\n    }\r\n  }, [camera, state.isOpen])\r\n  return null;\r\n}\r\n\r\nexport default UseCameraMove","import React from 'react'\r\nimport { useProgress } from 'drei';\r\nimport gsap from 'gsap';\r\n\r\nfunction Loader({ setIsLoaded }) {\r\n  const { progress } = useProgress()\r\n  let content = progress.toFixed(0);\r\n\r\n  if (progress === 100) {\r\n    content = <div onClick={() => {\r\n      gsap.to('.loader', .7, { opacity: 0, onComplete: setIsLoaded.bind(this, true) })\r\n    }}>Start</div>\r\n  }\r\n\r\n  return (\r\n    <div className='loader'>\r\n      <div style={progress === 100 ? { cursor: 'pointer' } : {}} className=\"progress\">{content}</div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Loader","import React from 'react'\r\n\r\nfunction ItemInfo({ src, name, weight, value, description, armor, damage }) {\r\n  return (\r\n    <div className='item-info'>\r\n      <div className=\"wrapper\">\r\n        <img src={src} alt=\"\" />\r\n        <div className=\"about\">\r\n          <div className=\"background\"></div>\r\n          <div className=\"name\">{name}</div>\r\n          {armor && <div className=\"armor\"><div>Armor</div> <span>{armor}</span></div>}\r\n          {damage && <div className=\"damage\"><div>Damage</div> <span>{damage}</span></div>}\r\n          <div className=\"weight\"><div>Weight</div> <span>{weight}</span></div>\r\n          <div className=\"value\"><div>Value</div> <span>{value}</span></div>\r\n          <div className=\"description\">{description}</div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ItemInfo","export default __webpack_public_path__ + \"static/media/Iron_Helmet.b2e7e14a.png\";","export default __webpack_public_path__ + \"static/media/steel-sword.34e2b53e.png\";","export default __webpack_public_path__ + \"static/media/lootSound.018afc75.mp3\";","import React, { useState, useEffect } from 'react'\r\nimport gsap from 'gsap';\r\n\r\nimport ItemInfo from './ItemInfo';\r\nimport ironHelmet from '../../assets/images/Iron_Helmet.png';\r\nimport steelSword from '../../assets/images/steel-sword.png';\r\nimport lootSound from '../../assets/sounds/lootSound.mp3';\r\n\r\nconst loot = new Audio(lootSound);\r\n\r\nfunction ChestModal({ isOpen }) {\r\n\r\n  const [isMounted, setIsMounted] = useState(false);\r\n  const [currentItem, setCurrentItem] = useState(0);\r\n  const [weight, setWeight] = useState(122);\r\n  const [items, setItems] = useState([\r\n    {\r\n      id: 0,\r\n      name: 'Iron helmet',\r\n      src: ironHelmet,\r\n      weight: 6,\r\n      value: 60,\r\n      armor: 17,\r\n      description: 'The Iron Helmet is worn by the Dragonborn in all pre-release trailers and artwork for the game, making it somewhat of a signature piece of armor for the main character.'\r\n    },\r\n    {\r\n      id: 1,\r\n      name: 'Steel sword',\r\n      src: steelSword,\r\n      weight: 8,\r\n      value: 120,\r\n      damage: 31,\r\n      description: 'Passing by a Hold Guard with a steel sword equipped may trigger the line, \"Favor a Steel Sword do ya? Good choice for slashing or stabbing.\"'\r\n    },\r\n  ])\r\n\r\n  const handleItemTake = (id) => {\r\n    loot.play();\r\n    let lastItemIndex = 0;\r\n\r\n    const newState = items.filter((item, index) => {\r\n      if (item.id === id) {\r\n        lastItemIndex = index;\r\n      }\r\n      return item.id !== id\r\n    });\r\n    setWeight(prev => prev + items.find(item => item.id === id).weight)\r\n    setItems(newState);\r\n\r\n    if (newState.length === 0) {\r\n      setCurrentItem(null);\r\n    }\r\n    else if (lastItemIndex > 0) {\r\n      setCurrentItem(items[lastItemIndex - 1].id);\r\n    } else {\r\n      setCurrentItem(items[lastItemIndex + 1].id)\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (isOpen && !isMounted) {\r\n      setIsMounted(true);\r\n      setTimeout(() => {\r\n        gsap.fromTo('.chest-modal', 1, { autoAlpha: 0 }, { autoAlpha: 1 })\r\n        gsap.fromTo('.content', .5, { x: '-20%' }, { x: 0 })\r\n        gsap.fromTo('.status', .5, { y: '20%' }, { y: 0 })\r\n      }, 0)\r\n    }\r\n    else if (!isOpen && isMounted) {\r\n      gsap.fromTo('.chest-modal', 1, {\r\n        autoAlpha: 1, onComplete: () => {\r\n        }\r\n      }, { autoAlpha: 0 })\r\n      gsap.fromTo('.content', .5, { x: 0 }, { x: '-20%' })\r\n      gsap.fromTo('.status', .5, { y: 0 }, { y: '20%' })\r\n      setTimeout(() => {\r\n        setIsMounted(false);\r\n      }, 1000)\r\n    }\r\n  }, [isOpen, isMounted])\r\n\r\n  return isMounted && (\r\n    <div className='chest-modal'>\r\n      <div className=\"overlay\"></div>\r\n      <div className=\"content\">\r\n        <div className=\"left\">\r\n          <div className=\"background\"></div>\r\n          <h1>Chest</h1>\r\n          <div>ARMOR</div>\r\n        </div>\r\n        <div className=\"right\">\r\n          <div className=\"background\"></div>\r\n          <div className=\"items\">\r\n            {items.map(item => <div key={item.id} style={item.id === currentItem ? { color: 'white' } : {}} onClick={handleItemTake.bind(this, item.id)} onMouseEnter={() => { setCurrentItem(item.id) }}>{item.name}</div>)}\r\n          </div>\r\n        </div>\r\n      </div>\r\n      {currentItem !== null ? <ItemInfo {...items.find(item => item.id === currentItem)} /> : null}\r\n      <div className=\"status\">\r\n        <div className='info'>\r\n          <div className=\"icon\">Esc</div>\r\n          <div className=\"text\">Close</div>\r\n        </div>\r\n        <div className='info'>\r\n          <div className=\"icon\">L</div>\r\n          <div className=\"text\">Take</div>\r\n        </div>\r\n        <div className=\"character\">\r\n          <div>\r\n            <div>\r\n              Carry Weight\r\n          </div>\r\n            <div>\r\n              {weight}/320\r\n            </div>\r\n          </div>\r\n          <div>\r\n            <div>\r\n              Gold\r\n          </div>\r\n            <div>\r\n              1230\r\n          </div>\r\n          </div>\r\n          <div className=\"health\">\r\n            <div className=\"edge left\"></div>\r\n            <div className=\"edge edge--white left\"></div>\r\n            <div className=\"edge edge--white right\"></div>\r\n            <div className=\"edge right\"></div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ChestModal","import React, { useReducer, createContext } from 'react';\r\n\r\nexport const ChestContext = createContext(null);\r\n\r\nconst reducer = (state, action) => {\r\n  switch (action.type) {\r\n    case 'HANDLE_CHEST':\r\n      return { ...state, isOpen: action.payload }\r\n    default:\r\n      return { ...state };\r\n  }\r\n}\r\n\r\nconst Provider = ({ children }) => {\r\n  const [state, dispatch] = useReducer(reducer, { isOpen: false })\r\n\r\n  return <ChestContext.Provider value={{ state, dispatch }}>\r\n    {children}\r\n  </ChestContext.Provider>\r\n}\r\n\r\nexport default Provider;","import React, { Suspense, useState, useContext } from 'react'\r\nimport { Canvas } from 'react-three-fiber';\r\n\r\nimport Chest from './Chest';\r\nimport Lights from './Lights';\r\nimport Floor from './Floor';\r\nimport UseCameraMove from './useCameraMove';\r\nimport Loader from './Loader';\r\nimport ChestModal from './ChestModal';\r\nimport { ChestContext } from '../../context/Provider';\r\n\r\nfunction Scene() {\r\n\r\n  const [isLoaded, setIsLoaded] = useState(false);\r\n  const context = useContext(ChestContext)\r\n\r\n  return (\r\n    <>\r\n      <ChestModal isOpen={context.state.isOpen} />\r\n      {!isLoaded && <Loader setIsLoaded={setIsLoaded} />}\r\n      <Canvas style={{ height: '100vh', position: 'fixed', left: 0, top: 0, bottom: 0, right: 0 }}\r\n        camera={{ fov: 70, position: [6.909380897545731, -3.6499999999999986, -6.866536077189617] }\r\n        }\r\n        onCreated={({ camera }) => {\r\n          camera.lookAt(2, -3, -9.8);\r\n        }}\r\n      >\r\n        <Lights />\r\n        {isLoaded && <UseCameraMove state={context.state} />}\r\n        <Suspense fallback={null}>\r\n          <Chest context={context} />\r\n          <Floor />\r\n        </Suspense>\r\n      </Canvas>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Scene","import Scene from './components/webgl';\n\nimport ContextProvider from './context/Provider';\n\nfunction App() {\n\n  return (\n    <ContextProvider>\n      <Scene />\n    </ContextProvider>\n  );\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nimport './styles/index.scss';\n\nReactDOM.render(\n  <App />\n  ,\n  document.getElementById('root')\n);"],"sourceRoot":""}