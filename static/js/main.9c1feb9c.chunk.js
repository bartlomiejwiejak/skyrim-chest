(this["webpackJsonpskyrim-chest"]=this["webpackJsonpskyrim-chest"]||[]).push([[0],{38:function(e,t,c){},39:function(e,t,c){"use strict";c.r(t);var s=c(2),i=c(1),n=c(25),a=c.n(n),r=c(6),o=c(10),d=c(40),j=c(0),l=c.p+"static/media/close-chest.87addd51.mp3",u=c.p+"static/media/open-chest.f147bf15.mp3",b=new Audio(l),h=new Audio(u);var m=function(e){var t=e.context,c=Object(d.a)("/skyrim-chest/chest/scene.gltf",!0),n=Object(i.useRef)(new j.AnimationMixer(c.scene)),a=Object(i.useRef)(null),r=Object(i.useRef)(!1),l=Object(i.useCallback)((function(e){if(!r.current&&(!e||!t.state.isOpen)&&(e||t.state.isOpen)){r.current=!0,e?h.play():b.play(),a.current.paused=!1,a.current.play();var c=.7;e||(c=.3),t.dispatch({type:"HANDLE_CHEST",payload:e}),setTimeout((function(){a.current.paused=!0,r.current=!1}),a.current._clip.duration*c*1e3)}}),[t]);return Object(i.useEffect)((function(){var e=document.querySelector(".overlay"),c=function(c){r.current||(t.state.isOpen&&27===c.keyCode||t.state.isOpen&&e)&&l(!1)};return document.addEventListener("keydown",c),e&&e.addEventListener("click",c),function(){document.removeEventListener("keydown",c),e&&e.removeEventListener("click",c)}}),[t.state,l]),Object(i.useEffect)((function(){a.current=n.current.clipAction(c.animations[0])}),[c]),Object(o.b)((function(e,t){n.current.update(t)})),Object(s.jsx)(s.Fragment,{children:Object(s.jsx)("mesh",{scale:[.01,.01,.01],position:[2,-3,-9.8],rotation:[.1,1.1,.1],onClick:l.bind(this,!0),onPointerOver:function(){document.body.style.cursor="pointer"},onPointerOut:function(){document.body.style.cursor="auto"},children:Object(s.jsx)("primitive",{object:c.scene,dispose:null})})})};var O=function(){return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("ambientLight",{intensity:.4}),Object(s.jsx)("directionalLight",{castShadow:!0,position:[-8,-16,-8],intensity:.4,"shadow-mapSize-width":1024,"shadow-mapSize-height":1024,"shadow-camera-far":50,"shadow-camera-left":-10,"shadow-camera-right":10,"shadow-camera-top":10,"shadow-camera-bottom":-10}),Object(s.jsx)("pointLight",{position:[0,20,0],intensity:2})]})},v=function(){var e=Object(d.a)("/skyrim-chest/scene/scene.gltf");return Object(s.jsx)("mesh",{children:Object(s.jsx)("primitive",{object:e.scene,dispose:null})})},x=c(4),p=c(9);var f=function(e){var t=e.state,c=Object(o.d)().camera;return Object(i.useEffect)((function(){if(!t.isOpen){var e={x:4.846472276597361,y:-2.210294971791372,z:-7.816071657508532};return p.a.to(c.position,2.5,Object(x.a)(Object(x.a)({},e),{},{ease:"power3.out",onComplete:function(){window.addEventListener("mousemove",s)}})),function(){window.removeEventListener("mousemove",s)}}function s(t){var s=.001*(t.clientX-window.innerWidth/2),i=.001*(t.clientY-window.innerHeight/2);p.a.to(c.position,2.5,{z:e.z+s,y:e.y+i})}}),[c,t.isOpen]),null},g=c(41);var w=function(e){var t=this,c=e.setIsLoaded,i=Object(g.a)().progress,n=i.toFixed(0);return 100===i&&(n=Object(s.jsx)("div",{onClick:function(){p.a.to(".loader",.7,{opacity:0,onComplete:c.bind(t,!0)})},children:"Start"})),Object(s.jsx)("div",{className:"loader",children:Object(s.jsx)("div",{style:100===i?{cursor:"pointer"}:{},className:"progress",children:n})})};var y=function(e){var t=e.src,c=e.name,i=e.weight,n=e.value,a=e.description,r=e.armor,o=e.damage;return Object(s.jsx)("div",{className:"item-info",children:Object(s.jsxs)("div",{className:"wrapper",children:[Object(s.jsx)("img",{src:t,alt:""}),Object(s.jsxs)("div",{className:"about",children:[Object(s.jsx)("div",{className:"background"}),Object(s.jsx)("div",{className:"name",children:c}),r&&Object(s.jsxs)("div",{className:"armor",children:[Object(s.jsx)("div",{children:"Armor"})," ",Object(s.jsx)("span",{children:r})]}),o&&Object(s.jsxs)("div",{className:"damage",children:[Object(s.jsx)("div",{children:"Damage"})," ",Object(s.jsx)("span",{children:o})]}),Object(s.jsxs)("div",{className:"weight",children:[Object(s.jsx)("div",{children:"Weight"})," ",Object(s.jsx)("span",{children:i})]}),Object(s.jsxs)("div",{className:"value",children:[Object(s.jsx)("div",{children:"Value"})," ",Object(s.jsx)("span",{children:n})]}),Object(s.jsx)("div",{className:"description",children:a})]})]})})},N=c.p+"static/media/Iron_Helmet.b2e7e14a.png",k=c.p+"static/media/steel-sword.34e2b53e.png",E=c.p+"static/media/lootSound.018afc75.mp3",S=new Audio(E);var C=function(e){var t=this,c=e.isOpen,n=Object(i.useState)(!1),a=Object(r.a)(n,2),o=a[0],d=a[1],j=Object(i.useState)(0),l=Object(r.a)(j,2),u=l[0],b=l[1],h=Object(i.useState)(122),m=Object(r.a)(h,2),O=m[0],v=m[1],f=Object(i.useState)([{id:0,name:"Iron helmet",src:N,weight:6,value:60,armor:17,description:"The Iron Helmet is worn by the Dragonborn in all pre-release trailers and artwork for the game, making it somewhat of a signature piece of armor for the main character."},{id:1,name:"Steel sword",src:k,weight:8,value:120,damage:31,description:'Passing by a Hold Guard with a steel sword equipped may trigger the line, "Favor a Steel Sword do ya? Good choice for slashing or stabbing."'}]),g=Object(r.a)(f,2),w=g[0],E=g[1],C=function(e){S.play();var t=0,c=w.filter((function(c,s){return c.id===e&&(t=s),c.id!==e}));v((function(t){return t+w.find((function(t){return t.id===e})).weight})),E(c),0===c.length?b(null):b(t>0?w[t-1].id:w[t+1].id)};return Object(i.useEffect)((function(){c&&!o?(d(!0),setTimeout((function(){p.a.fromTo(".chest-modal",1,{autoAlpha:0},{autoAlpha:1}),p.a.fromTo(".content",.5,{x:"-20%"},{x:0}),p.a.fromTo(".status",.5,{y:"20%"},{y:0})}),0)):!c&&o&&(p.a.fromTo(".chest-modal",1,{autoAlpha:1,onComplete:function(){}},{autoAlpha:0}),p.a.fromTo(".content",.5,{x:0},{x:"-20%"}),p.a.fromTo(".status",.5,{y:0},{y:"20%"}),setTimeout((function(){d(!1)}),1e3))}),[c,o]),o&&Object(s.jsxs)("div",{className:"chest-modal",children:[Object(s.jsx)("div",{className:"overlay"}),Object(s.jsxs)("div",{className:"content",children:[Object(s.jsxs)("div",{className:"left",children:[Object(s.jsx)("div",{className:"background"}),Object(s.jsx)("h1",{children:"Chest"}),Object(s.jsx)("div",{children:"ARMOR"})]}),Object(s.jsxs)("div",{className:"right",children:[Object(s.jsx)("div",{className:"background"}),Object(s.jsx)("div",{className:"items",children:w.map((function(e){return Object(s.jsx)("div",{style:e.id===u?{color:"white"}:{},onClick:C.bind(t,e.id),onMouseEnter:function(){b(e.id)},children:e.name},e.id)}))})]})]}),null!==u?Object(s.jsx)(y,Object(x.a)({},w.find((function(e){return e.id===u})))):null,Object(s.jsxs)("div",{className:"status",children:[Object(s.jsxs)("div",{className:"info",children:[Object(s.jsx)("div",{className:"icon",children:"Esc"}),Object(s.jsx)("div",{className:"text",children:"Close"})]}),Object(s.jsxs)("div",{className:"info",children:[Object(s.jsx)("div",{className:"icon",children:"L"}),Object(s.jsx)("div",{className:"text",children:"Take"})]}),Object(s.jsxs)("div",{className:"character",children:[Object(s.jsxs)("div",{children:[Object(s.jsx)("div",{children:"Carry Weight"}),Object(s.jsxs)("div",{children:[O,"/320"]})]}),Object(s.jsxs)("div",{children:[Object(s.jsx)("div",{children:"Gold"}),Object(s.jsx)("div",{children:"1230"})]}),Object(s.jsxs)("div",{className:"health",children:[Object(s.jsx)("div",{className:"edge left"}),Object(s.jsx)("div",{className:"edge edge--white left"}),Object(s.jsx)("div",{className:"edge edge--white right"}),Object(s.jsx)("div",{className:"edge right"})]})]})]})]})},A=Object(i.createContext)(null),L=function(e,t){switch(t.type){case"HANDLE_CHEST":return Object(x.a)(Object(x.a)({},e),{},{isOpen:t.payload});default:return Object(x.a)({},e)}},T=function(e){var t=e.children,c=Object(i.useReducer)(L,{isOpen:!1}),n=Object(r.a)(c,2),a=n[0],o=n[1];return Object(s.jsx)(A.Provider,{value:{state:a,dispatch:o},children:t})};var H=function(){var e=Object(i.useState)(!1),t=Object(r.a)(e,2),c=t[0],n=t[1],a=Object(i.useContext)(A);return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(C,{isOpen:a.state.isOpen}),!c&&Object(s.jsx)(w,{setIsLoaded:n}),Object(s.jsxs)(o.a,{style:{height:"100vh",position:"fixed",left:0,top:0,bottom:0,right:0},camera:{fov:70,position:[6.909380897545731,-3.6499999999999986,-6.866536077189617]},onCreated:function(e){e.camera.lookAt(2,-3,-9.8)},children:[Object(s.jsx)(O,{}),c&&Object(s.jsx)(f,{state:a.state}),Object(s.jsxs)(i.Suspense,{fallback:null,children:[Object(s.jsx)(m,{context:a}),Object(s.jsx)(v,{})]})]})]})};var I=function(){return Object(s.jsx)(T,{children:Object(s.jsx)(H,{})})};c(38);a.a.render(Object(s.jsx)(I,{}),document.getElementById("root"))}},[[39,1,2]]]);
//# sourceMappingURL=main.9c1feb9c.chunk.js.map